(()=>{"use strict";var e={177:(e,t,n)=>{n.d(t,{Z:()=>A});var r=n(864),o=n.n(r),i=n(352),s=n.n(i)()(o());s.push([e.id,'form{float:left;margin-bottom:20px}.select-wrap{width:100px;height:32px;position:relative;float:left;color:#888;overflow:hidden}.select-wrap:after{width:10%;height:100%;position:absolute;right:10px;top:0;z-index:1;padding:4px 8px;text-align:center;content:"▼";pointer-events:none}label{height:32px;float:left;clear:left;margin-right:12px;line-height:30px;font-size:14pt;color:#888}select{width:100px;height:32px;border:1px solid #888;border-radius:6px;background:#282828;color:#888;font-size:12pt;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:10px;cursor:pointer}select:hover{border-color:#ccc;color:#ccc}select:focus{outline:none}select option{color:#888}select option:focus{outline:none}select option:checked{background-color:#444;color:#ccc}html{--gridsize: 4 // max 16}body{margin:0;padding:0;background:radial-gradient(black 15%, transparent 16%) 0 0,radial-gradient(black 15%, transparent 16%) 8px 8px,radial-gradient(rgba(255, 255, 255, 0.1) 15%, transparent 20%) 0 1px,radial-gradient(rgba(255, 255, 255, 0.1) 15%, transparent 20%) 8px 9px;background-color:#282828;background-size:16px 16px;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-size:14pt;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;color:#ccc;background:#282828}.container{--scale: calc(1.25 - (var(--gridsize) / 16));--cells: calc(var(--gridsize) * 100px);--margins: calc((var(--gridsize) - 1) * 4px);--width: calc(var(--cells) + var(--margins) + (2 * 15px));width:calc(var(--scale)*var(--width));margin:0 auto;padding:20px}h1{display:inline-block;float:left;margin-top:0;margin-bottom:24px;font-size:40pt;line-height:40px;color:#d2691e;text-shadow:0 2px 2px #fff}#back,#restart,#score,#highscore{display:inline-block;padding:5px;border:1px solid #888;border-radius:6px;background:#282828;text-align:center;color:#888}#restart,#back{float:left;width:80px;height:20px;line-height:18px;margin-bottom:10px;margin-right:10px;font-size:15pt;cursor:pointer}#restart:hover,#back:hover{color:#ccc;border-color:#ccc}#restart{clear:left}#score,#highscore{float:right;color:#ccc;height:44px;width:100px;font-size:17pt;font-weight:bold;padding-top:0;margin-bottom:10px}#score:before,#highscore:before{display:block;font-size:12pt;line-height:18px;font-weight:normal;color:#888;padding:0}#score:before{content:"score"}#score{clear:right;margin-bottom:20px}#highscore:before{content:"best"}#game{position:relative;--cells: calc(var(--gridsize) * 100px);--margins: calc((var(--gridsize) - 1) * 4px);width:calc(var(--cells) + var(--margins) + (2 * 15px));height:calc(var(--cells) + var(--margins) + (2 * 15px));transform-origin:top left;transform:scale(calc(1.25 - var(--gridsize) / 16));clear:both;text-align:center;box-shadow:0px 0px 0px 5px #444,0px 0px 0px 7px #888,0px 0px 0px 12px #000}#gameover,.grid{position:absolute;width:100%;height:100%}#gameover{z-index:100;font-size:30pt;background:rgba(0,0,0,.6);color:#ccc}#gameover span{display:inline-block;width:90%;white-space:pre-line;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.grid{background:#282828}.cell{position:absolute;width:104px;height:104px;top:0;left:0;perspective-origin:center center;perspective:300px;transition-duration:.25s;transition-property:left,top,transform,box-shadow,opacity;transition-timing-function:ease-in}.tile{position:absolute;width:100px;height:100px;margin:4px;margin-right:0;background:none;text-align:center;transform-style:preserve-3d;transition-duration:.25s;transition-property:transform;transition-timing-function:ease-in}.front,.back{position:absolute;width:100%;height:100%;line-height:92px;box-sizing:border-box;top:0;left:0;border:4px solid red;border-radius:12.5px;box-shadow:4px 4px 4px rgba(0,0,0,.7);backface-visibility:hidden;font-size:20px;font-weight:bold}.front{z-index:10;transform:rotateY(0deg)}.x-0{left:15px;margin-left:-4px}.x-1{left:119px}.x-2{left:223px}.x-3{left:327px}.x-4{left:431px}.x-5{left:535px}.x-6{left:639px}.x-7{left:743px}.x-8{left:847px}.x-9{left:951px}.x-10{left:1055px}.x-11{left:1159px}.x-12{left:1263px}.x-13{left:1367px}.x-14{left:1471px}.x-15{left:1575px}.y-0{top:15px;margin-top:-4px}.y-1{top:119px}.y-2{top:223px}.y-3{top:327px}.y-4{top:431px}.y-5{top:535px}.y-6{top:639px}.y-7{top:743px}.y-8{top:847px}.y-9{top:951px}.y-10{top:1055px}.y-11{top:1159px}.y-12{top:1263px}.y-13{top:1367px}.y-14{top:1471px}.y-15{top:1575px}.val-0{background:#afeeee;border-color:#31d3d3;color:#1c8282;font-size:60px}.val-1{background:#afccee;border-color:#317bd3;color:#1c4a82;font-size:57px}.val-2{background:#b5afee;border-color:#4031d3;color:#251c82;font-size:54px}.val-3{background:#d7afee;border-color:#9831d3;color:#5d1c82;font-size:51px}.val-4{background:#eeafe3;border-color:#d331b6;color:#821c70;font-size:48px}.val-5{background:#eeafc0;border-color:#d3315d;color:#821c38;font-size:45px}.val-6{background:#eec0af;border-color:#d35d31;color:#82381c;font-size:42px}.val-7{background:#eee3af;border-color:#d3b631;color:#82701c;font-size:39px}.val-8{background:#d7eeaf;border-color:#98d331;color:#5d821c;font-size:36px}.val-9{background:#b5eeaf;border-color:#40d331;color:#25821c;font-size:33px}.val-10{background:#afeecc;border-color:#31d37b;color:#1c824a;font-size:30px}.val-11{background:#afeeee;border-color:#31d3d3;color:#1c8282;font-size:27px}.willflip-Up{transform:rotateX(180deg)}.willflip-Down{transform:rotateX(-180deg)}.willflip-Left{transform:rotateY(-180deg)}.willflip-Right{transform:rotateY(180deg)}.flipped-Up{transform:rotateX(-180deg)}.flipped-Down{transform:rotateX(180deg)}.flipped-Left{transform:rotateY(180deg)}.flipped-Right{transform:rotateY(-180deg)}.moveunder{z-index:2}.willappear,.disappeared{opacity:0;transform:scale(0.3);z-index:1}.done .disappeared{opacity:1;transform:scale(1.2) rotate(-360deg);z-index:1}.appeared,.willdisappear{opacity:1;transform:scale(1) rotate(0deg);z-index:2}',"",{version:3,sources:["webpack://./src/styles/styles.sass","webpack://./src/styles/select.sass","webpack://./src/styles/consts.sass","webpack://./src/styles/mixins.sass"],names:[],mappings:"AAAA,KCGA,UACI,CAAA,kBAEA,CAAA,aAEJ,WACI,CAAA,WACA,CAAA,iBACA,CAAA,UACA,CAAA,UCHU,CAAA,eDKV,CAAA,mBAEJ,SACI,CAAA,WACA,CAAA,iBACA,CAAA,UACA,CAAA,KACA,CAAA,SACA,CAAA,eACA,CAAA,iBACA,CAAA,WACA,CAAA,mBACA,CAAA,MAEJ,WACI,CAAA,UACA,CAAA,UACA,CAAA,iBACA,CAAA,gBACA,CAAA,cACA,CAAA,UCzBU,CAAA,OD4Bd,WACI,CAAA,WACA,CAAA,qBACA,CAAA,iBACA,CAAA,kBCjCM,CAAA,UACI,CAAA,cDmCV,CAAA,uBEPA,CAAA,oBACA,CAAA,eACA,CAAA,gBFOA,CAAA,cACA,CAAA,aACA,iBCtCO,CAAA,UAAA,CAAA,aDyCP,YACI,CAAA,cACJ,UC5CU,CAAA,oBD8CN,YACI,CAAA,sBACJ,qBACI,CAAA,UChDD,CAAA,KFNX,uBACI,CAAA,KACJ,QACI,CAAA,SACA,CAAA,0PACA,CAAA,wBEDM,CAAA,yBFGN,CAAA,uDACA,CAAA,cACA,CAAA,qBGkBA,CAAA,wBACA,CAAA,oBACA,CAAA,gBACA,CAAA,UDxBO,CAAA,kBAFD,CAAA,WFUV,4CGHI,CAAA,sCACA,CAAA,4CACA,CAAA,yDACA,CAAA,qCACA,CAAA,aHCA,CAAA,YACA,CAAA,GAEJ,oBACI,CAAA,UACA,CAAA,YACA,CAAA,kBACA,CAAA,cACA,CAAA,gBACA,CAAA,aACA,CAAA,0BACA,CAAA,iCAEJ,oBACI,CAAA,WACA,CAAA,qBACA,CAAA,iBACA,CAAA,kBE7BM,CAAA,iBF+BN,CAAA,UE9BU,CAAA,eFiCd,UACI,CAAA,UACA,CAAA,WACA,CAAA,gBACA,CAAA,kBACA,CAAA,iBACA,CAAA,cACA,CAAA,cACA,CAAA,2BACA,UEzCO,CAAA,iBAAA,CAAA,SF6CX,UACI,CAAA,kBAEJ,WACI,CAAA,UEjDO,CAAA,WFmDP,CAAA,WACA,CAAA,cACA,CAAA,gBACA,CAAA,aACA,CAAA,kBACA,CAAA,gCACA,aACI,CAAA,cACA,CAAA,gBACA,CAAA,kBACA,CAAA,UE9DM,CAAA,SFgEN,CAAA,cAER,eACI,CAAA,OACJ,WACI,CAAA,kBACA,CAAA,kBAEJ,cACI,CAAA,MAEJ,iBACI,CAAA,sCG9EA,CAAA,4CACA,CAAA,sDAGA,CAAA,uDACA,CAAA,yBAUA,CAAA,kDACA,CAAA,UHiEA,CAAA,iBACA,CAAA,0EACA,CAAA,gBAEJ,iBACI,CAAA,UACA,CAAA,WACA,CAAA,UAEJ,WACI,CAAA,cACA,CAAA,yBACA,CAAA,UE1FO,CAAA,eF4FP,oBACI,CAAA,SACA,CAAA,oBACA,CAAA,iBGxGJ,CAAA,OACA,CAAA,QACA,CAAA,+BACA,CAAA,MHwGJ,kBEpGU,CAAA,MFuGV,iBACI,CAAA,WACA,CAAA,YACA,CAAA,KACA,CAAA,MACA,CAAA,gCACA,CAAA,iBACA,CAAA,wBEjHO,CAAA,yDFmHP,CAAA,kCACA,CAAA,MAEJ,iBACI,CAAA,WE3HO,CAAA,YAAA,CAAA,UAEE,CAAA,cF6HT,CAAA,eACA,CAAA,iBACA,CAAA,2BACA,CAAA,wBE9HO,CAAA,6BFgIP,CAAA,kCACA,CAAA,aAEJ,iBAEI,CAAA,UACA,CAAA,WACA,CAAA,gBACA,CAAA,qBACA,CAAA,KACA,CAAA,MACA,CAAA,oBACA,CAAA,oBACA,CAAA,qCACA,CAAA,0BACA,CAAA,cEpJO,CAAA,gBFsJP,CAAA,OAEJ,UAEI,CAAA,uBACA,CAAA,KAKA,SACI,CAAA,gBAEI,CAAA,KAHR,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,KADJ,UACI,CAAA,MADJ,WACI,CAAA,MADJ,WACI,CAAA,MADJ,WACI,CAAA,MADJ,WACI,CAAA,MADJ,WACI,CAAA,MADJ,WACI,CAAA,KAKJ,QACI,CAAA,eAEI,CAAA,KAHR,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,KADJ,SACI,CAAA,MADJ,UACI,CAAA,MADJ,UACI,CAAA,MADJ,UACI,CAAA,MADJ,UACI,CAAA,MADJ,UACI,CAAA,MADJ,UACI,CAAA,OAQJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,OANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,QANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,QANJ,kBAEU,CAAA,oBAEN,CAAA,aACA,CAAA,cACA,CAAA,aAIR,yBACI,CAAA,eACJ,0BACI,CAAA,eACJ,0BACI,CAAA,gBACJ,yBACI,CAAA,YAEJ,0BACI,CAAA,cACJ,yBACI,CAAA,cACJ,yBACI,CAAA,eACJ,0BACI,CAAA,WAEJ,SACI,CAAA,yBAEJ,SACI,CAAA,oBACA,CAAA,SACA,CAAA,mBAEJ,SACI,CAAA,oCACA,CAAA,SACA,CAAA,yBAEJ,SACI,CAAA,+BACA,CAAA,SACA",sourcesContent:["@import './mixins'\n@import './select'\n@import './consts'\n\nhtml\n    --gridsize: 4 // max 16\nbody\n    margin: 0\n    padding: 0\n    background: radial-gradient(black 15%, transparent 16%) 0 0, radial-gradient(black 15%, transparent 16%) 8px 8px, radial-gradient(rgba(255,255,255,.1) 15%, transparent 20%) 0 1px, radial-gradient(rgba(255,255,255,.1) 15%, transparent 20%) 8px 9px\n    background-color: $bgcolor\n    background-size: 16px 16px\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\n    font-size: 14pt\n    @include unselectable()\n    color: $txtcolor\n    background: $bgcolor\n\n.container\n    @include containersize($cellsize, $cellmargin, $gridmargin)\n    margin: 0 auto\n    padding: 20px\n\nh1\n    display: inline-block\n    float: left\n    margin-top: 0\n    margin-bottom: 24px\n    font-size: 40pt\n    line-height: 40px\n    color: chocolate\n    text-shadow: 0 2px 2px white\n\n#back, #restart, #score, #highscore\n    display: inline-block\n    padding: 5px\n    border: 1px solid $bordercolor\n    border-radius: 6px\n    background: $bgcolor\n    text-align: center\n    color: $bordercolor\n\n#restart, #back\n    float: left\n    width: 80px\n    height: 20px\n    line-height: 18px\n    margin-bottom: 10px\n    margin-right: 10px\n    font-size: 15pt\n    cursor: pointer\n    &:hover\n        color: $txtcolor\n        border-color: $txtcolor\n\n#restart\n    clear: left\n\n#score, #highscore\n    float: right\n    color: $txtcolor\n    height: 44px\n    width: 100px\n    font-size: 17pt\n    font-weight: bold\n    padding-top: 0\n    margin-bottom: 10px\n    &:before\n        display: block\n        font-size: 12pt\n        line-height: 18px\n        font-weight: normal\n        color: $bordercolor\n        padding: 0\n\n#score:before\n    content: 'score'\n#score\n    clear: right\n    margin-bottom: 20px\n\n#highscore:before\n    content: 'best'\n\n#game\n    position: relative\n    @include gridsize($cellsize, $cellmargin, $gridmargin)\n    @include scale()\n    clear: both\n    text-align: center\n    box-shadow: 0px 0px 0px 5px #444, 0px 0px 0px 7px $bordercolor, 0px 0px 0px 12px #000\n\n#gameover, .grid\n    position: absolute\n    width: 100%\n    height: 100%\n\n#gameover\n    z-index: 100\n    font-size: 30pt\n    background: rgba(0, 0, 0, 0.6)\n    color: $txtcolor\n    span\n        display: inline-block\n        width: 90%\n        white-space: pre-line\n        @include center()\n\n.grid\n    background: $bgcolor\n\n.cell\n    position: absolute\n    width: $cellsize + $cellmargin\n    height: $cellsize + $cellmargin\n    top: 0\n    left: 0\n    perspective-origin: center center\n    perspective: 300px\n    transition-duration: $duration\n    transition-property: left, top, transform, box-shadow, opacity\n    transition-timing-function: ease-in\n\n.tile\n    position: absolute\n    width: $cellsize\n    height: $cellsize\n    margin: $cellmargin\n    margin-right: 0\n    background: none\n    text-align: center\n    transform-style: preserve-3d\n    transition-duration: $duration\n    transition-property: transform\n    transition-timing-function: ease-in\n\n.front, .back\n    /* hide back of pane during swap */\n    position: absolute\n    width: 100%\n    height: 100%\n    line-height: $cellsize - (2 * $borderwidth)\n    box-sizing: border-box\n    top: 0\n    left: 0\n    border: $borderwidth solid red\n    border-radius: calc($cellsize / 8)\n    box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.7)\n    backface-visibility: hidden\n    font-size: $fontsize\n    font-weight: bold\n\n.front\n    /* front pane, placed above back */\n    z-index: 10\n    transform: rotateY(0deg)\n\n/* styles for cell x, y positions */\n\n@for $i from 0 through 16 - 1\n    .x-#{$i}\n        left: $gridmargin + ($cellsize + $cellmargin) * $i\n        @if $i == 0\n            margin-left: -$cellmargin\n\n@for $i from 0 through 16 - 1\n    .y-#{$i}\n        top: $gridmargin + ($cellsize + $cellmargin) * $i\n        @if $i == 0\n            margin-top: -$cellmargin\n\n/* styles for tile values (.val-11 = pow(2, 11) =2048) */\n\n$startcol: #AFEEEE\n@for $i from 0 through $expmax\n    .val-#{$i}\n        $deg: calc(360deg / 11) * $i\n        $col: adjust-hue($startcol, $deg)\n        background: $col\n        border-color: darken($col, 30%)\n        color: darken($col, 50%)\n        font-size: 60px - ($i * 3)\n\n// animations\n\n.willflip-Up\n    transform: rotateX(180deg)\n.willflip-Down\n    transform: rotateX(-180deg)\n.willflip-Left\n    transform: rotateY(-180deg)\n.willflip-Right\n    transform: rotateY(180deg)\n\n.flipped-Up\n    transform: rotateX(-180deg)\n.flipped-Down\n    transform: rotateX(180deg)\n.flipped-Left\n    transform: rotateY(180deg)\n.flipped-Right\n    transform: rotateY(-180deg)\n\n.moveunder\n    z-index: 2\n\n.willappear, .disappeared\n    opacity: 0\n    transform: scale(0.3)\n    z-index: 1\n\n.done .disappeared\n    opacity: 1.0\n    transform: scale(1.2) rotate(-360deg)\n    z-index: 1\n\n.appeared, .willdisappear\n    opacity: 1.0\n    transform: scale(1.0) rotate(0deg)\n    z-index: 2\n\n","@import './mixins'\n@import './consts'\n\nform\n    float: left\n    // clear: left\n    margin-bottom: 20px\n\n.select-wrap\n    width: 100px\n    height: 32px\n    position: relative\n    float: left\n    color: $bordercolor\n    overflow: hidden\n\n.select-wrap:after\n    width: 10%\n    height: 100%\n    position: absolute\n    right: 10px\n    top: 0\n    z-index: 1\n    padding: 4px 8px\n    text-align: center\n    content: \"▼\"\n    pointer-events: none\n\nlabel\n    height: 32px\n    float: left\n    clear: left\n    margin-right: 12px\n    line-height: 30px\n    font-size: 14pt\n    color: $bordercolor\n\nselect\n    width: 100px\n    height: 32px\n    border: 1px solid $bordercolor\n    border-radius: 6px\n    background: $bgcolor\n    color: $bordercolor\n    font-size: 12pt\n    @include noappearance()\n    text-indent: 10px\n    cursor: pointer\n    &:hover\n        border-color: $txtcolor\n        color: $txtcolor\n    &:focus\n        outline: none\n    option\n        color: $bordercolor\n        &:focus\n            outline: none\n        &:checked\n            background-color: #444\n            color: $txtcolor\n","$fontsize: 20px\n$cellsize: 100px\n$gridmargin: 15px\n$cellmargin: 4px\n$borderwidth: 4px\n$duration: 0.25s\n$expmax: 11\n\n$bgcolor: #282828\n$bordercolor: #888\n$txtcolor: #ccc\n","@mixin center()\n    position: absolute\n    top: 50%\n    left: 50%\n    transform: translate(-50%, -50%)\n\n@mixin gridsize($cellsize, $cellmargin, $gridmargin)\n    --cells: calc(var(--gridsize) * #{$cellsize})\n    --margins: calc((var(--gridsize) - 1) * #{$cellmargin})\n    // width: calc((var(--gridsize) * #{$cellsize}) + (var(--gridsize) - 1) * #{$cellmargin} + (2 * #{$gridmargin}))\n    // height: calc((var(--gridsize) * #{$cellsize}) + (var(--gridsize) - 1) * #{$cellmargin} + (2 * #{$gridmargin}))\n    width: calc(var(--cells) + var(--margins) + (2 * #{$gridmargin}))\n    height: calc(var(--cells) + var(--margins) + (2 * #{$gridmargin}))\n\n@mixin containersize($cellsize, $cellmargin, $gridmargin)\n    --scale: calc(1.25 - (var(--gridsize) / 16))\n    --cells: calc(var(--gridsize) * #{$cellsize})\n    --margins: calc((var(--gridsize) - 1) * #{$cellmargin})\n    --width: calc(var(--cells) + var(--margins) + (2 * #{$gridmargin}))\n    width: calc(var(--scale) * var(--width))\n\n@mixin scale()\n    transform-origin: top left\n    transform: scale(calc(1.25 - (var(--gridsize) / 16) ))\n\n@mixin clearfix()\n    content: ''\n    clear: both\n    display: table\n\n@mixin unselectable()\n    -moz-user-select: none\n    -webkit-user-select: none\n    -ms-user-select: none\n    user-select: none\n\n@mixin noappearance()\n    -webkit-appearance: none\n    -moz-appearance: none\n    appearance: none\n"],sourceRoot:""}]);const A=s},352:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var A=0;A<this.length;A++){var a=this[A][0];null!=a&&(s[a]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},864:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([i]).join("\n")}return[t].join("\n")}},701:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],A=0;A<e.length;A++){var a=e[A],l=r.base?a[0]+r.base:a[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var p=n(d),C={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)t[p].references++,t[p].updater(C);else{var h=o(C,r);r.byIndex=A,t.splice(A,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var A=n(i[s]);t[A].references--}for(var a=r(e,o),l=0;l<i.length;l++){var c=n(i[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=a}}},80:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},182:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},850:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},236:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},213:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},533:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(701),o=n.n(r),i=n(236),s=n.n(i),A=n(80),a=n.n(A),l=n(850),c=n.n(l),d=n(182),p=n.n(d),C=n(213),h=n.n(C),g=n(177),f={};f.styleTagTransform=h(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=p(),o()(g.Z,f);const u=g.Z&&g.Z.locals?g.Z.locals:void 0},517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=void 0;const r=n(382);class o{constructor(e,t){this._oldVal=void 0,this._oldPos=void 0,this._mergeDir=void 0,this._new=!0,this._val=e,this._pos=t||new r.Pos}static fromState(e){return new o(e.val,r.Pos.fromState(e.pos))}get pos(){return this._pos}set pos(e){this._oldPos||(this._oldPos=this._pos),this._pos=e}get val(){return this._val}set val(e){this._oldVal=this._val,this._val=e}get merged(){return void 0!==this._oldVal}prepareMove(){this._oldPos=void 0,this._oldVal=void 0,this._mergeDir=void 0,this._new=!1}setMergeDir(e){this._mergeDir=e}canMergeWith(e){return null!==e&&!this.merged&&!e.merged&&this.val===e.val}toState(){return{pos:this.pos,val:this.val}}toRenderState(){return{pos:this.pos,val:this.val,oldPos:this._oldPos,oldVal:this._oldVal,mergeDir:this._mergeDir,new:this._new}}}t.Cell=o},114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.direction=t.DIRECTIONS=t.Direction=void 0;class n{constructor(e,t){this.x=0,this.y=0,this.x=e,this.y=t}}t.Direction=n;const r=new n(0,-1),o=new n(1,0),i=new n(0,1),s=new n(-1,0);var A;t.DIRECTIONS=[r,o,i,s],(A=t.direction||(t.direction={}))[A.Up=0]="Up",A[A.Right=1]="Right",A[A.Down=2]="Down",A[A.Left=3]="Left"},55:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const r=n(567),o=n(114),i=n(70);class s{constructor(e=4,t,n,o,i=!1){this._started=!1,this._won=!1,this._done=!1,this._score=0,e instanceof r.Grid?(this.grid=e,this.size=this.grid.size):(this.grid=new r.Grid(e),this.size=e),this._renderer=t,this._inputHandler=n,this._storage=o,this._started=i,this._inputHandler&&(this._inputHandler.reset(),this._inputHandler.on("move",this.playMove.bind(this)),this._inputHandler.on("restart",this.restart.bind(this))),this.reset()}static fromState(e,t,n,o){const i=r.Grid.fromState(e.grid),A=new s(i,t,n,o,!0);return A._won=e.won,A._done=e.done,A._score=e.score,A}get won(){return this._won}get done(){return this._done}set done(e){this._done=e}get highscore(){return this._storage?this._storage.getHighScore(this.size):0}set highscore(e){this._storage&&this._storage.storeHighScore(this.size,e)}get score(){return this._score}set score(e){this._score=e,e>this.highscore&&(this.highscore=e),this.updateScores()}restart(){this.grid.reset(),this.reset(),this._started=!1,this.start()}reset(){this._done=!1,this._won=!1,this.score=0}start(e=2){if(!this._started){for(let t=0;t<e;t++){const e=this.grid.randomEmptyPosition();e&&this.grid.addCell(e,this.newCellValue())}this.save()}this.render(),this.updateScores()}toState(){return{won:this.won,done:this.done,score:this.score,grid:this.grid.toState()}}toRenderState(){return{size:this.size,won:this.won,done:this.done,score:this.score,highscore:this.highscore,grid:this.grid.toRenderState()}}newCellValue(){return(0,i.randomInt)(100)<50?2:4}hasWon(){return this.grid.toArray().indexOf(2048)>=0}canMakeMove(){return this.grid.canShiftCells()||this.grid.canMergeCells()}makeMove(e){this.grid.prepareMove();let t=!1;if(e===o.direction.Down||e===o.direction.Up)for(const n of this.grid.cols()){const r=this.processRowOrCol(n,e);t=t||r}else for(const n of this.grid.rows()){const r=this.processRowOrCol(n,e);t=t||r}return t}playMove(e){if(!this.done){if(this.makeMove(e)){const e=this.grid.randomEmptyPosition();if(e){const t=this.newCellValue();this.grid.addCell(e,t)}this._won=this.hasWon(),this._done=this._won||!this.canMakeMove()}this.save(),this.render()}}processRowOrCol(e,t){t!==o.direction.Up&&t!==o.direction.Left||e.reverse();let n=this.defragRowOrCol(e,t);const r=this.mergeCells(e,t);return r&&(n=this.defragRowOrCol(e,t)||n),r||n}mergeCells(e,t){let n=!1,r=e.length-1;for(;r>0;){const o=e[r],i=e[r-1];o&&o.canMergeWith(i)&&(this.score+=this.grid.mergeCellWith(o,i,t),e[r-1]=null,n=!0),r--}return n}defragRowOrCol(e,t){let n=!1,r=e.length-1;for(;r>0;){const o=e[r];let i;o||(i=this.slideAllCellsOverOnce(e,r,t),n=n||i),!o&&i||r--}return n}slideAllCellsOverOnce(e,t,n){let r=!1;for(let o=t;o>0;o--){const t=e[o-1];t&&(this.grid.moveCell(t,n),r=!0),e[o]=t}return e[0]=null,r}render(){this._renderer&&this._renderer.render(this.toRenderState())}updateScores(){this._renderer&&this._renderer.updatescores(this.score,this.highscore)}save(){this._storage&&this._storage.save(this.toState())}}t.Game=s},567:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Grid=void 0;const r=n(382),o=n(114),i=n(517),s=n(70);class A{constructor(e){this._cells=[],this._removedCells=[],this._size=e,this.reset()}static fromArray(e,t=4){if(e.length!==t*t)throw Error("invalid array length");const n=new A(t);for(const[t,r]of e.entries())r>0&&n.addCell(n.indexToPos(t),r);return n}static fromState(e){const t=new A(e.size);for(const n of e.cells)t.addCell(r.Pos.fromState(n.pos),n.val);return t}get size(){return this._size}reset(){this._cells=[],this._removedCells=[];for(let e=0;e<this.size*this.size;e++)this._cells.push(null)}toState(){const e=[];return this._cells.forEach((t=>{t&&e.push(t.toState())})),{size:this.size,cells:e}}toRenderState(){const e=[],t=[];return this._cells.forEach((t=>{t&&e.push(t.toRenderState())})),this._removedCells.forEach((e=>{t.push(e.toRenderState())})),{size:this.size,cells:e,removedCells:t}}toArray(){const e=[];for(const t of this._cells)e.push(t?t.val:0);return e}toString(){let e="";for(const t of this.rows()){for(const n of t)e=e+" "+(n?(0,s.nf)(n.val,2):"__");e+="\n"}return e}addCell(e,t){const n=new i.Cell(t,e),r=this.posToIndex(e);this._cells[r]=n}emptyPositions(){const e=[];for(let t=0;t<this.size*this.size;t++)null===this._cells[t]&&e.push(this.indexToPos(t));return e}cellIsEmpty(e){const t=this.posToIndex(e);return null!==this._cells[t]}filledCells(){const e=[];return this._cells.forEach((t=>{t&&e.push(t)})),e}rows(){const e=[];for(let t=0;t<this.size;t++){const n=[];for(let e=0;e<this.size;e++){const r=this.xyToIndex(e,t);n.push(this._cells[r])}e.push(n)}return e}cols(){const e=[];for(let t=0;t<this.size;t++){const n=[];for(let e=0;e<this.size;e++){const r=this.xyToIndex(t,e);n.push(this._cells[r])}e.push(n)}return e}randomEmptyPosition(){const e=this.emptyPositions(),t=(0,s.randomInt)(e.length);return e.length?e[t]:null}prepareMove(){this._removedCells=[];const e=this.filledCells();for(const t of e)t.prepareMove()}canMergeCells(){for(let e=0;e<this.size;e++)for(let t=0;t<this.size;t++){const n=this.xyToIndex(e,t),r=e<this.size-1?this.xyToIndex(e+1,t):null,o=t<this.size-1?this.xyToIndex(e,t+1):null,i=this._cells[n],s=r?this._cells[r]:null,A=o?this._cells[o]:null;if(i&&(s&&i.val===s.val||A&&i.val===A.val))return!0}return!1}canShiftCells(){return this.emptyPositions().length>0}moveCell(e,t){const n=o.DIRECTIONS[t],r=e.pos,i=e.pos.move(n);e.pos=i;const s=this.posToIndex(r);this._cells[s]=null;const A=this.posToIndex(i);this._cells[A]=e}mergeCellWith(e,t,n){e.val=e.val+t.val,e.setMergeDir(n);const r=e.pos.copy();return this.removeCell(t,r),e.val}xyToIndex(e,t){return t*this.size+e}posToIndex(e){return e.y*this.size+e.x}indexToPos(e){const t=new r.Pos;return t.y=Math.floor(e/this.size),t.x=e%this.size,t}removeCell(e,t){const n=e.pos;e.pos=t,this._removedCells.push(e);const r=this.posToIndex(n);this._cells[r]=null}}t.Grid=A},70:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nf=t.randomInt=void 0,t.randomInt=function(e){return Math.floor(Math.random()*Math.floor(e))},t.nf=function(e,t){let n=e.toString();for(;n.length<t;)n=" "+n;return n}},988:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLRenderer=void 0;const r=n(114);t.HTMLRenderer=class{constructor(e,t,n,r){this.doneStateRendered=!1,this.renderDoneStateAfter=!1,this.cellsToMove=[],this.cellsToAppear=[],this.cellsToDisappear=[],this.tilesToFlip=[],this.container=e,this.container.innerHTML="",this.scoreElmt=t,this.scoreElmt.innerHTML="",this.highscoreElmt=n,this.highscoreElmt.innerHTML="",this.setGridSizeCSS(r)}updatescores(e,t){this.scoreElmt.innerHTML=e.toString(),this.highscoreElmt.innerHTML=t.toString()}render(e){if(e.done){if(this.doneStateRendered)return;e.done=!1,this.renderDoneStateAfter=!0}else this.doneStateRendered=!1;this.renderInitialState(e)}renderInitialState(e){window.requestAnimationFrame((()=>{this.container.innerHTML="";const t=document.createElement("div");t.className=e.done?"grid done":"grid",this.cellsToMove=[],this.cellsToAppear=[],this.cellsToDisappear=[],this.tilesToFlip=[];let n=e.grid.cells;for(const t of e.grid.removedCells)t.disappearing=!0;n=n.concat(e.grid.removedCells);for(const e of n){const n=e;n.appearing=e.new,n.moving=void 0!==e.oldPos,n.flipping=void 0!==e.oldVal,n.moveunder=n.moving&&!n.flipping;const r=this.makeCell(n),o=this.makeTile(n);r.appendChild(o),t.appendChild(r)}if(this.container.appendChild(t),e.done){const e=document.createElement("div");e.id="gameover",e.innerHTML="<span>no more moves\nGAME OVER</span>",this.container.appendChild(e),this.doneStateRendered=!0}this.continueInNextFrame(e)}))}makeCell(e){const t=document.createElement("div");if(e.moving){const n=e.oldPos.x,r=e.oldPos.y;t.className=this.getCellClassesBefore(n,r,e),this.cellsToMove.push({cell:t,state:e})}else{const n=e.pos.x,r=e.pos.y;t.className=this.getCellClassesBefore(n,r,e)}return e.appearing&&this.cellsToAppear.push({cell:t,state:e}),e.disappearing&&this.cellsToDisappear.push({cell:t,state:e}),t}makeTile(e){const t=document.createElement("div");t.className="tile";const n=document.createElement("div");if(e.flipping){n.innerHTML=e.oldVal.toString(),n.className="front "+this.valueToClassName(e.oldVal),t.appendChild(n);const r=document.createElement("div");r.innerHTML=e.val.toString(),r.className="back "+this.valueToClassName(e.val)+" "+this.willflipClassFromDir(e.mergeDir),t.appendChild(r),this.tilesToFlip.push({tile:t,dir:e.mergeDir})}else n.innerHTML=e.val.toString(),n.className="front "+this.valueToClassName(e.val),t.appendChild(n);return t}continueInNextFrame(e){window.requestAnimationFrame((()=>{for(const e of this.cellsToMove){const t=e.state.pos.x,n=e.state.pos.y;e.cell.className=this.getCellClassesAfter(t,n,e.state)}for(const e of this.cellsToAppear){const t=e.state.pos.x,n=e.state.pos.y;e.cell.className=this.getCellClassesAfter(t,n,e.state)}for(const e of this.cellsToDisappear){const t=e.state.pos.x,n=e.state.pos.y;e.cell.className=this.getCellClassesAfter(t,n,e.state)}for(const e of this.tilesToFlip)e.tile.className="tile "+this.flippedClassFromDir(e.dir);this.renderDoneStateAfter&&(window.setTimeout((()=>{window.requestAnimationFrame((()=>{e.done=!0,e.grid.removedCells=e.grid.removedCells.concat(e.grid.cells),e.grid.cells=[],e.grid.removedCells.forEach((e=>{e.oldPos=void 0,e.oldVal=void 0,e.mergeDir=void 0,e.new=!1})),this.renderInitialState(e)}))}),500),this.renderDoneStateAfter=!1)}))}xyToClassNames(e,t){return`x-${e} y-${t}`}valueToClassName(e,t=!0){return`val-${Math.log2(e)}`}setGridSizeCSS(e){const t=document.querySelector("html");t&&t.style.setProperty("--gridsize",e.toString())}willflipClassFromDir(e){return"willflip-"+r.direction[e]}flippedClassFromDir(e){return"flipped-"+r.direction[e]}getCellClassesBefore(e,t,n){let r="cell "+this.xyToClassNames(e,t);return n.moveunder&&(r+=" moveunder"),n.appearing&&(r+=" willappear"),n.disappearing&&(r+=" willdisappear"),r}getCellClassesAfter(e,t,n){let r="cell "+this.xyToClassNames(e,t);return n.moveunder&&(r+=" moveunder"),n.appearing&&(r+=" appeared"),n.disappearing&&(r+=" disappeared"),r}}},447:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=void 0;const r=n(114);t.InputHandler=class{constructor(e,t){this._events={},this._container=e,document.addEventListener("keydown",this.handleKeyDown.bind(this)),this._restartBtn=t,this._restartBtn.addEventListener("click",this.restartClick.bind(this)),this.reset()}reset(){this._events={}}on(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)}trigger(e,...t){const n=this._events[e];for(const e of n)e(...t)}restartClick(e){this.trigger("restart"),e.preventDefault()}handleKeyDown(e){if(!e.defaultPrevented&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){switch(e.key){case"ArrowUp":this.trigger("move",r.direction.Up);break;case"ArrowRight":this.trigger("move",r.direction.Right);break;case"ArrowDown":this.trigger("move",r.direction.Down);break;case"ArrowLeft":this.trigger("move",r.direction.Left);break;default:return}e.preventDefault()}}}},382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pos=void 0;class n{constructor(e,t){this.x=e||0,this.y=t||0}static fromState(e){return new n(e.x,e.y)}move(e){return new n(this.x+e.x,this.y+e.y)}toString(){return`(${this.x}, ${this.y})`}copy(){return new n(this.x,this.y)}}t.Pos=n},791:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameStorage=void 0;const n=new class{constructor(){this._data={}}get length(){return Object.keys(this._data).length}clear(){this._data={}}getItem(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0}key(e){return Object.keys(this._data)[e]}removeItem(e){delete this._data[e]}setItem(e,t){this._data[e]=t}},r="gamestate",o="highscore_";t.GameStorage=class{constructor(){this._highscores=[],this.localStorageSupported()?this._storage=localStorage:this._storage=n}load(){const e=this._storage.getItem(r);return e?JSON.parse(e):null}save(e){const t=JSON.stringify(e);this._storage.setItem(r,t)}storeHighScore(e,t){const n=o+e.toString();this._storage.setItem(n,t.toString())}getHighScore(e){const t=o+e.toString(),n=this._storage.getItem(t),r=n?parseInt(n,10):NaN;return isNaN(r)?0:r}localStorageSupported(){const e="test";try{const t=window.localStorage;return t.setItem(e,"1"),t.removeItem(e),!0}catch(e){return!1}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(533);const e=n(55),t=n(988),r=n(447),o=n(791);function i(){const n=document.getElementById("game"),i=document.getElementById("restart"),s=document.getElementById("score"),A=document.getElementById("highscore"),a=document.getElementById("sizeSelect");if(n&&i){let l=4,c=new t.HTMLRenderer(n,s,A,l);const d=new o.GameStorage,p=new r.InputHandler(n,i);let C,h=d.load();h=null,a.addEventListener("change",(r=>{l=parseInt(a.value,10),c=new t.HTMLRenderer(n,s,A,l),C=new e.Game(l,c,p,d),C.start(2)})),C=h?e.Game.fromState(h,c,p,d):new e.Game(l,c,p,d),C.start(2)}}"complete"===document.readyState?i():document.addEventListener("DOMContentLoaded",(function(e){i()}))})()})();
//# sourceMappingURL=bundle.min.js.map